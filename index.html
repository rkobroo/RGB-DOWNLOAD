<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="title" content="RKO BRODownloader - Powerful Video Downloader and Online Tools">
    <meta name="description" content="Download videos easily from various platforms with RKO Downloader. Your all-in-one video downloading and online tools solution.">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="keywords" content="RKO Downloader, video downloader, download videos, online tools">
    <meta name="robots" content="index,follow">
    <meta name="author" content="RKO BRO">
    <meta property="og:title" content="RKO Downloader - Download Videos Easily and Quickly">
    <meta property="og:description" content="RKO Downloader makes downloading videos easy and quick. Get started now with this powerful tool.">
    <meta property="og:image" content="/VKrDownloader/logo.png">
    <meta property="og:url" content="/">
    <meta property="og:type" content="website">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="RKO Downloader - Easy Video Downloads">
    <meta name="twitter:description" content="Use RKO Downloader for quick and easy video downloads from various platforms.">
    <meta name="twitter:image" content="/VKrDownloader/logo.png">    
    <link rel="icon" href="/logo.png" sizes="32x32" type="image/png">
    <link rel="shortcut icon" href="/logo.png" type="image/x-icon">  
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="manifest" href="./manifest.webmanifest">
    <script src="https://cdn.jsdelivr.net/npm/dompurify/dist/purify.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <title>RKO Downloader: Download Videos / Audio Online From Any Site</title>

    <!--
        ADS START 
    -->

        <!--
        ADS END
    -->

</head>
<script>
    function getBodyBG() {
    const imageArray = [
        "https://img3.wallspic.com/crops/6/3/5/8/7/178536/178536-sunset-nature-dusk-water-cloud-1080x2160.jpg",
        "https://images.pexels.com/photos/2251798/pexels-photo-2251798.jpeg?cs=srgb&dl=pexels-markarronsmith-2251798.jpg&fm=jpg",
        "https://images.pexels.com/photos/937980/pexels-photo-937980.jpeg?cs=srgb&dl=pexels-kovyrina-937980.jpg&fm=jpg",
        "https://wallpapercave.com/wp/wp6974666.jpg",
        "https://www.pngmagic.com/product_images/sunset-hd-nature-background-for-photo-editing_l2f.jpeg",
        "https://e1.pxfuel.com/desktop-wallpaper/363/258/desktop-wallpaper-a-touch-of-light-here-and-there-best-whatsapp-dp.jpg",
        "https://images.pexels.com/photos/1707820/pexels-photo-1707820.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500",
        "https://images.pexels.com/photos/1957693/pexels-photo-1957693.jpeg?cs=srgb&dl=pexels-markusspiske-1957693.jpg&fm=jpg",
        "https://i.pinimg.com/736x/a6/a2/c4/a6a2c43dd162b80261ad87be1c875965.jpg",
    ];

    if (imageArray.length === 0) {
        return null; // Return null if the array is empty
    }

    const randomKey = Math.floor(Math.random() * imageArray.length); // Get a random index
    const bbgimg = imageArray[randomKey]; // Retrieve the corresponding URL

    // Apply the selected background image to the body
    const style = `
        body {
    background-image: url('${bbgimg}');
    background-repeat: no-repeat;
    background-size: cover;
    background-position: center;
    min-height: 100vh;
    margin: 0; 
    padding: 0; 
        }
    `;

    // Append the style to the document head
    const styleElement = document.createElement("style");
    styleElement.innerHTML = style;
    document.head.appendChild(styleElement);
}

// Call the function to set the background
getBodyBG();
</script>
<body>
    <header class="bg-dark text-white">
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
            <a class="navbar-brand" href="#"><img src="https://i.postimg.cc/kX8ddhnX/Untitled-design-20250423-001352-0000.png" style="width:40px; height:40px;border-radius:10px;box-shadow:3px 3px 10px yellow;"></a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item active"><a class="nav-link" href="/">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="mailto:rkobro112@gmail.com">Service</a></li>
                    <li class="nav-item"><a class="nav-link" href="https://www.instagram.com/himalpaudel112/profilecard/?igsh=ZHl5MGlra2c5eDdw">Follow</a></li>
                    <li class="nav-item"><a class="nav-link" href="/dark">Dark Theme</a></li>
                </ul>
            </div>
        </nav>
    </header>

    <!-- Popup Modal -->
    <div id="popupModal" class="popup-modal">
        <div class="popup-content">
            <div class="popup-header">
                <h3>Quick Download</h3>
                <span class="close-btn" id="closePopup">&times;</span>
            </div>
            <div class="popup-body">
                <div class="input-container">
                    <input id="popupInput" type="url" class="popup-input" placeholder="Paste URL here...">
                </div>
                <div class="button-container">
                    <button id="pasteBtn" class="popup-btn paste-btn">Paste</button>
                    <button id="searchBtn" class="popup-btn search-btn">Search</button>
                </div>
            </div>
        </div>
    </div>

    <div class="container mt-5">
        <div class="row">
            <div class="col-md-10 mx-auto">
                <div class="form-group">
                    <input id="inputUrl" type="url" class="form-control" placeholder="Enter URL">
                </div>
                <button id="downloadBtn" type="submit" class="btn btn-primary">Download</button>
            </div>
        </div>
        <div class="text-center mt-3">
            <button id="installButton" class="btn btn-primary" style="display: block; padding: 15px 30px; font-size: 18px; font-weight: bold; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border: none; border-radius: 30px; box-shadow: 0 6px 20px rgba(0,0,0,0.4); transition: all 0.3s ease; margin: 20px auto;">üì± Download App</button>
        </div>
        <div id="loading" class="text-center mt-3" style="display: none;">
            <div class="centerV">
                <div class="wave"></div>
                <div class="wave"></div>
                <div class="wave"></div>
                <div class="wave"></div>
                <div class="wave"></div>
                <div class="wave"></div>
                <div class="wave"></div>
                <div class="wave"></div>
                <div class="wave"></div>
                <div class="wave"></div>
            </div>
        </div>

        <div id="container" class="text-center mt-3" style="display: none;">
            <div id="thumb" class="mb-3"></div>
            <div id="title"></div>
            <div id="description" class="mt-3"></div>
            <div id="uploader"></div>
            <div id="duration"></div>
            <div id="extractor"></div>
            <div id="downloadURL"></div>
            <div id="download"></div>
        </div>

        <div id="content" class="text-center mt-5 p-4" style="background-color: #150707c7; border-radius: 10px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);">
            <h2 style="font-weight: 700; color: #fff;">RKO Downloader - Download Videos Seamlessly</h2>
            <p style="font-size: 1.1rem; color: #fff; margin-top: 10px;">
                RKO Downloader by RKO BRO is your ultimate tool for downloading online videos, thumbnails, and music. It's fast, free, and hassle-free!
            </p>
            <hr style="margin: 20px 0; border-top: 1px solid #ddd;">
            <h4 style="font-weight: 600; color: #c2c0c0;">Download from Your Favorite Platforms:</h4>
            <ul style="list-style: none; padding: 0; font-size: 1rem; color: #e6e0e0; line-height: 1.8;">
                <li>üé• YouTube</li>
                <li>üìò Facebook</li>
                <li>üê¶ Twitter</li>
                <li>üì∏ Instagram (Reels)</li>
                <li>üéµ TikTok</li>
                <li>üåê 1000+ other websites</li>
            </ul>
            <p style="font-size: 1rem; color: #eae4e4; margin-top: 15px;">
                Supports all audio and video qualities for the best experience.
            </p>
        </div>
    </div>
    <br>
    <footer class="bg-dark text-white text-center py-3 mt-10">
        Powered By Himal (RKO BRO)
    </footer>
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('./sw.js').then((registration) => {
                console.log('Service Worker Registered');

                // Listen for updates
                registration.addEventListener('updatefound', () => {
                    const newWorker = registration.installing;
                    newWorker.addEventListener('statechange', () => {
                        if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                            // New service worker is available
                            console.log('New service worker available');

                            // Optionally notify user about update
                            if (confirm('A new version is available. Reload to update?')) {
                                newWorker.postMessage({type: 'SKIP_WAITING'});
                                window.location.reload();
                            }
                        }
                    });
                });
            }).catch((error) => {
                console.log('Service Worker registration failed:', error);
            });

            // Listen for service worker updates
            navigator.serviceWorker.addEventListener('controllerchange', () => {
                window.location.reload();
            });
        }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://vkrdownloader.xyz/static/js/devdata.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script type="text/javascript" src="javascript.js"></script>
    <script>
        let deferredPrompt;
        let clipboardCheckInterval;
        let currentUrl = '';
        let autoDownloadEnabled = localStorage.getItem('autoDownloadEnabled') === 'true';

        // Platform detection
        const platforms = {
            'youtube.com': { name: 'YouTube', icon: 'üé¨', quality: 'best' },
            'youtu.be': { name: 'YouTube', icon: 'üé¨', quality: 'best' },
            'tiktok.com': { name: 'TikTok', icon: 'üéµ', quality: 'best' },
            'vt.tiktok.com': { name: 'TikTok', icon: 'üéµ', quality: 'best' },
            'instagram.com': { name: 'Instagram', icon: 'üì∏', quality: 'best' },
            'facebook.com': { name: 'Facebook', icon: 'üìò', quality: 'best' },
            'twitter.com': { name: 'Twitter', icon: 'üê¶', quality: 'best' },
            'x.com': { name: 'X (Twitter)', icon: 'üê¶', quality: 'best' }
        };

        // Initialize clipboard monitoring
        function startClipboardMonitoring() {
            clipboardCheckInterval = setInterval(checkClipboard, 2000);
        }

        async function checkClipboard() {
            try {
                const text = await navigator.clipboard.readText();
                if (text && isValidUrl(text) && text !== currentUrl) {
                    currentUrl = text;
                    document.getElementById('inputUrl').value = text;

                    if (autoDownloadEnabled) {
                        showNotification('URL detected! Starting auto-download...', 0);
                        setTimeout(() => startAutoDownload(text), 1000);
                    } else {
                        showNotification('URL detected in clipboard!', 0);
                    }
                }
            } catch (err) {
                console.log('Clipboard access not available');
            }
        }

        function isValidUrl(string) {
            try {
                const url = new URL(string);
                return url.protocol === 'http:' || url.protocol === 'https:';
            } catch (_) {
                return false;
            }
        }

        async function startAutoDownload(url) {
            if (!url) return;

            try {
                showNotification('Fetching video information...', 10);

                const response = await fetch(`https://vkrdownloader.xyz/server?api_key=vkrdownloader&vkr=${encodeURIComponent(url)}`);

                if (!response.ok) {
                    throw new Error('Failed to fetch video data');
                }

                showNotification('Processing video...', 30);
                const data = await response.json();

                showNotification('Preparing high quality download...', 50);

                let downloadUrl;
                if (data.data && data.data.downloads) {
                    downloadUrl = findBestQuality(data.data.downloads);
                } else {
                    downloadUrl = `https://vkrdownloader.xyz/server/dl.php?vkr=${encodeURIComponent(url)}`;
                }

                showNotification('Starting download...', 70);

                // Create filename with timestamp
                const timestamp = new Date().toISOString().slice(0, 19).replace(/:/g, '-');
                const filename = `RKO_HD_${timestamp}.mp4`;

                // Force direct download using blob and download attribute
                try {
                    const response = await fetch(downloadUrl);
                    const blob = await response.blob();
                    const url = window.URL.createObjectURL(blob);

                    const link = document.createElement('a');
                    link.href = url;
                    link.download = filename;
                    link.style.display = 'none';

                    document.body.appendChild(link);
                    link.click();
                    document.body.removeChild(link);

                    // Clean up the blob URL
                    window.URL.revokeObjectURL(url);
                } catch (error) {
                    // Fallback to direct link if blob method fails
                    const link = document.createElement('a');
                    link.href = downloadUrl;
                    link.download = filename;
                    link.setAttribute('download', filename);
                    link.style.display = 'none';

                    document.body.appendChild(link);
                    link.click();
                    document.body.removeChild(link);
                }

                showNotification('Download completed! üéâ', 100);

            } catch (error) {
                console.error('Download error:', error);
                showNotification('Download failed: ' + error.message, 0);
            }
        }

        function findBestQuality(downloads) {
            const priorities = ['1080', '720', 'best'];

            for (const quality of priorities) {
                const match = downloads.find(d => 
                    d.format_id && d.format_id.includes(quality)
                );
                if (match) return match.url;
            }

            return downloads[0]?.url;
        }

        function showNotification(text, progress = 0) {
            // Create notification if it doesn't exist
            let notification = document.getElementById('autoDownloadNotification');
            if (!notification) {
                notification = document.createElement('div');
                notification.id = 'autoDownloadNotification';
                notification.style.cssText = `
                    position: fixed;
                    top: 20px;
                    left: 50%;
                    transform: translateX(-50%);
                    background: #1a1a1a;
                    color: white;
                    padding: 15px 20px;
                    border-radius: 10px;
                    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
                    z-index: 1000;
                    display: none;
                    animation: slideDown 0.3s ease-out;
                `;

                const progressBar = document.createElement('div');
                progressBar.style.cssText = `
                    width: 100%;
                    height: 4px;
                    background: #444;
                    border-radius: 2px;
                    overflow: hidden;
                    margin: 10px 0 0 0;
                `;

                const progressFill = document.createElement('div');
                progressFill.id = 'autoDownloadProgress';
                progressFill.style.cssText = `
                    height: 100%;
                    background: linear-gradient(90deg, #4CAF50, #81C784);
                    border-radius: 2px;
                    width: 0%;
                    transition: width 0.3s ease;
                `;

                progressBar.appendChild(progressFill);
                notification.appendChild(document.createElement('div'));
                notification.appendChild(progressBar);
                document.body.appendChild(notification);
            }

            notification.children[0].textContent = text;
            document.getElementById('autoDownloadProgress').style.width = progress + '%';
            notification.style.display = 'block';

            // Auto-hide after 3 seconds
            setTimeout(() => {
                notification.style.display = 'none';
            }, 3000);
        }

        // Enhanced Download App Logic
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            document.getElementById('installButton').style.display = 'block';

            document.getElementById('installButton').addEventListener('click', () => {
                if (deferredPrompt) {
                    deferredPrompt.prompt();
                    deferredPrompt.userChoice.then((choiceResult) => {
                        if (choiceResult.outcome === 'accepted') {
                            console.log('App installed');
                            showNotification('App installed successfully! üéâ', 100);
                        } else {
                            console.log('App installation declined');
                        }
                        deferredPrompt = null;
                    });
                } else {
                    // Check if we're on mobile and can show better instructions
                    const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
                    const isChrome = /Chrome/i.test(navigator.userAgent);
                    const isSafari = /Safari/i.test(navigator.userAgent) && !/Chrome/i.test(navigator.userAgent);

                    let instructions = '';

                    if (isMobile) {
                        if (isChrome) {
                            instructions = `
                                <div style="text-align: left; margin: 20px 0;">
                                    <h4 style="color: #4CAF50; margin-bottom: 15px;">üì± Install on Chrome Mobile:</h4>
                                    <ol style="line-height: 1.8; padding-left: 20px;">
                                        <li>Tap the <strong>three dots (‚ãÆ)</strong> in the top right</li>
                                        <li>Select <strong>"Add to Home screen"</strong></li>
                                        <li>Tap <strong>"Add"</strong> to confirm</li>
                                    </ol>
                                </div>
                            `;
                        } else if (isSafari) {
                            instructions = `
                                <div style="text-align: left; margin: 20px 0;">
                                    <h4 style="color: #4CAF50; margin-bottom: 15px;">üì± Install on Safari:</h4>
                                    <ol style="line-height: 1.8; padding-left: 20px;">
                                        <li>Tap the <strong>Share button (‚Üó)</strong> at the bottom</li>
                                        <li>Scroll down and tap <strong>"Add to Home Screen"</strong></li>
                                        <li>Tap <strong>"Add"</strong> to confirm</li>
                                    </ol>
                                </div>
                            `;
                        } else {
                            instructions = `
                                <div style="text-align: left; margin: 20px 0;">
                                    <h4 style="color: #4CAF50; margin-bottom: 15px;">üì± Install Instructions:</h4>
                                    <ol style="line-height: 1.8; padding-left: 20px;">
                                        <li>Open your browser menu</li>
                                        <li>Look for <strong>"Add to Home Screen"</strong> or <strong>"Install App"</strong></li>
                                        <li>Follow the prompts to install</li>
                                    </ol>
                                </div>
                            `;
                        }
                    } else {
                        if (isChrome) {
                            instructions = `
                                <div style="text-align: left; margin: 20px 0;">
                                    <h4 style="color: #4CAF50; margin-bottom: 15px;">üíª Install on Chrome:</h4>
                                    <ol style="line-height: 1.8; padding-left: 20px;">
                                        <li>Look for the <strong>install icon (‚äï)</strong> in the address bar</li>
                                        <li>Or click the <strong>three dots (‚ãÆ)</strong> ‚Üí <strong>"Install RKO Downloader"</strong></li>
                                        <li>Click <strong>"Install"</strong> to confirm</li>
                                    </ol>
                                </div>
                            `;
                        } else {
                            instructions = `
                                <div style="text-align: left; margin: 20px 0;">
                                    <h4 style="color: #4CAF50; margin-bottom: 15px;">üíª Install Instructions:</h4>
                                    <p style="line-height: 1.6;">This app can be installed on Chrome-based browsers. For the best experience, please use Chrome, Edge, or Opera.</p>
                                </div>
                            `;
                        }
                    }

                    // Create a better install prompt with instructions
                    const installDialog = document.createElement('div');
                    installDialog.style.cssText = `
                        position: fixed;
                        top: 0;
                        left: 0;
                        width: 100%;
                        height: 100%;
                        background: rgba(0, 0, 0, 0.9);
                        display: flex;
                        justify-content: center;
                        align-items: center;
                        z-index: 10000;
                        padding: 20px;
                        box-sizing: border-box;
                    `;

                    installDialog.innerHTML = `
                        <div style="
                            background: #1a1a1a;
                            color: white;
                            padding: 30px;
                            border-radius: 15px;
                            max-width: 400px;
                            width: 100%;
                            text-align: center;
                            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
                            max-height: 80vh;
                            overflow-y: auto;
                        ">
                            <div style="font-size: 48px; margin-bottom: 20px;">üì±</div>
                            <h3 style="margin-bottom: 20px; color: #fff;">Install RKO Downloader</h3>
                            ${instructions}
                            <button onclick="this.parentElement.parentElement.remove()" style="
                                background: #667eea;
                                color: white;
                                border: none;
                                padding: 12px 24px;
                                border-radius: 8px;
                                cursor: pointer;
                                font-size: 16px;
                                margin-top: 20px;
                            ">Got it!</button>
                        </div>
                    `;

                    document.body.appendChild(installDialog);
                }
            });
        });

        setTimeout(() => {
            if (!deferredPrompt) {
                document.getElementById('installButton').style.display = 'none';
            }
        }, 3000);

        window.addEventListener('appinstalled', () => {
            document.getElementById('installButton').style.display = 'none';
            console.log('App installed by user');
        });

        // Start clipboard monitoring when page loads
        window.addEventListener('load', function() {
            startClipboardMonitoring();

            // Add auto-download toggle button
            const container = document.querySelector('.col-md-10.mx-auto');
            const toggleContainer = document.createElement('div');
            toggleContainer.style.cssText = 'margin-top: 10px; text-align: center;';
            toggleContainer.innerHTML = `
                <label style="color: white; display: flex; align-items: center; justify-content: center; gap: 10px;">
                    <input type="checkbox" id="autoDownloadToggle" ${autoDownloadEnabled ? 'checked' : ''} 
                           style="transform: scale(1.2);">
                    <span>Auto Download (High Quality)</span>
                </label>
            `;
            container.appendChild(toggleContainer);

            // Handle toggle change
            document.getElementById('autoDownloadToggle').addEventListener('change', function() {
                autoDownloadEnabled = this.checked;
                localStorage.setItem('autoDownloadEnabled', autoDownloadEnabled);
                showNotification(autoDownloadEnabled ? 'Auto-download enabled' : 'Auto-download disabled', 0);
            });
        });

        // Cleanup on page unload
        window.addEventListener('beforeunload', function() {
            if (clipboardCheckInterval) {
                clearInterval(clipboardCheckInterval);
            }
        });
    </script>
</body>

                                                      </html>
